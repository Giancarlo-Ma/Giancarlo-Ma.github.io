<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="baidu-site-verification" content="LXuJEpjaKP" />
<meta name="google-site-verification" content="Ua5o3QmWpq8fShnQBye7AB9hZQSy-k49fUJrl5BPWh0" />
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/apple-touch-icon.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"giancarlo-ma.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="æ–‡æ¡£å¯¹è±¡æ¨¡å‹å½“ä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨è·å–åˆ°é¡µé¢çš„HTMLæ–‡æœ¬å¹¶è§£æå®ƒï¼Œéå¸¸åƒæˆ‘ä»¬12ç« çš„è§£æå™¨ã€‚æµè§ˆå™¨æ„å»ºä¸€ä¸ªæ–‡æ¡£ç»“æ„çš„æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªæ¨¡å‹åœ¨å±å¹•ä¸Šç»˜ç”»é¡µé¢ã€‚ è¿™ä¸ªæ–‡æ¡£çš„è¡¨ç¤ºå°±æ˜¯JSåœ¨å®ƒçš„æ²™ç®±é‡Œå¯ä»¥è·å¾—çš„ç©å…·ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ä¸ªä½ å¯ä»¥è¯»å–æˆ–è€…ä¿®æ”¹çš„æ•°æ®ç»“æ„ã€‚å®ƒè¡¨ç°å¾—åƒä¸€ä¸ªåŠ¨æ€çš„æ•°æ®ç»“æ„ï¼šå½“è¢«ä¿®æ”¹çš„æ—¶å€™çœ‹ï¼Œå±å¹•ä¸Šçš„é¡µé¢å°±ä¼šæ›´æ–°æ¥åæ˜ è¿™ç§å˜åŒ–ã€‚ æ–‡æ¡£ç»“æ„ä½ å¯ä»¥æŠŠHTMLæ–‡æ¡£æƒ³è±¡ä¸ºä¸€ä¸ªåµŒå¥—çš„ç›’">
<meta property="og:type" content="article">
<meta property="og:title" content="EJ14">
<meta property="og:url" content="https://giancarlo-ma.github.io/2019/01/15/EJ14/index.html">
<meta property="og:site_name" content="Giancarlo&#39;s Blog">
<meta property="og:description" content="æ–‡æ¡£å¯¹è±¡æ¨¡å‹å½“ä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨è·å–åˆ°é¡µé¢çš„HTMLæ–‡æœ¬å¹¶è§£æå®ƒï¼Œéå¸¸åƒæˆ‘ä»¬12ç« çš„è§£æå™¨ã€‚æµè§ˆå™¨æ„å»ºä¸€ä¸ªæ–‡æ¡£ç»“æ„çš„æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªæ¨¡å‹åœ¨å±å¹•ä¸Šç»˜ç”»é¡µé¢ã€‚ è¿™ä¸ªæ–‡æ¡£çš„è¡¨ç¤ºå°±æ˜¯JSåœ¨å®ƒçš„æ²™ç®±é‡Œå¯ä»¥è·å¾—çš„ç©å…·ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ä¸ªä½ å¯ä»¥è¯»å–æˆ–è€…ä¿®æ”¹çš„æ•°æ®ç»“æ„ã€‚å®ƒè¡¨ç°å¾—åƒä¸€ä¸ªåŠ¨æ€çš„æ•°æ®ç»“æ„ï¼šå½“è¢«ä¿®æ”¹çš„æ—¶å€™çœ‹ï¼Œå±å¹•ä¸Šçš„é¡µé¢å°±ä¼šæ›´æ–°æ¥åæ˜ è¿™ç§å˜åŒ–ã€‚ æ–‡æ¡£ç»“æ„ä½ å¯ä»¥æŠŠHTMLæ–‡æ¡£æƒ³è±¡ä¸ºä¸€ä¸ªåµŒå¥—çš„ç›’">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-01-15T03:11:35.000Z">
<meta property="article:modified_time" content="2020-06-07T02:09:33.780Z">
<meta property="article:author" content="Guohang Ma">
<meta property="article:tag" content="technology software development blog">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://giancarlo-ma.github.io/2019/01/15/EJ14/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>EJ14 | Giancarlo's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168920567-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-168920567-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7c36ec71b2977e5a94a6c1f84f72f9b1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <script>
    !function(e,t,n,g,i){e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=('https:'==document.location.protocol?'https://':'http://')+g,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.growingio.com/2.1/gio.js","gio");
    gio('init', '90d82505a80c81bf', {});
    gio('send');
  </script>


  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Giancarlo's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Code && Peaceful Life</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://giancarlo-ma.github.io/2019/01/15/EJ14/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Guohang Ma">
      <meta itemprop="description" content="ğŸ“šâ°ğŸ¶ğŸ¸ğŸŠğŸ½â€â™‚ï¸ğŸƒğŸ½â€ğŸ¦ğŸŒğŸ“ğŸŒ³ğŸ—½Love all things...">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Giancarlo's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          EJ14
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-15 11:11:35" itemprop="dateCreated datePublished" datetime="2019-01-15T11:11:35+08:00">2019-01-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-07 10:09:33" itemprop="dateModified" datetime="2020-06-07T10:09:33+08:00">2020-06-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Eloquent-JavaScript/" itemprop="url" rel="index"><span itemprop="name">Eloquent JavaScript</span></a>
                </span>
            </span>

          
            <span id="/2019/01/15/EJ14/" class="post-meta-item leancloud_visitors" data-flag-title="EJ14" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="æ–‡æ¡£å¯¹è±¡æ¨¡å‹"><a href="#æ–‡æ¡£å¯¹è±¡æ¨¡å‹" class="headerlink" title="æ–‡æ¡£å¯¹è±¡æ¨¡å‹"></a>æ–‡æ¡£å¯¹è±¡æ¨¡å‹</h1><p>å½“ä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸€ä¸ªç½‘é¡µçš„æ—¶å€™ï¼Œæµè§ˆå™¨è·å–åˆ°é¡µé¢çš„HTMLæ–‡æœ¬å¹¶è§£æå®ƒï¼Œéå¸¸åƒæˆ‘ä»¬12ç« çš„è§£æå™¨ã€‚æµè§ˆå™¨æ„å»ºä¸€ä¸ªæ–‡æ¡£ç»“æ„çš„æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªæ¨¡å‹åœ¨å±å¹•ä¸Šç»˜ç”»é¡µé¢ã€‚</p>
<p>è¿™ä¸ªæ–‡æ¡£çš„è¡¨ç¤ºå°±æ˜¯JSåœ¨å®ƒçš„æ²™ç®±é‡Œå¯ä»¥è·å¾—çš„ç©å…·ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ä¸ªä½ å¯ä»¥è¯»å–æˆ–è€…ä¿®æ”¹çš„æ•°æ®ç»“æ„ã€‚å®ƒè¡¨ç°å¾—åƒä¸€ä¸ªåŠ¨æ€çš„æ•°æ®ç»“æ„ï¼šå½“è¢«ä¿®æ”¹çš„æ—¶å€™çœ‹ï¼Œå±å¹•ä¸Šçš„é¡µé¢å°±ä¼šæ›´æ–°æ¥åæ˜ è¿™ç§å˜åŒ–ã€‚</p>
<h2 id="æ–‡æ¡£ç»“æ„"><a href="#æ–‡æ¡£ç»“æ„" class="headerlink" title="æ–‡æ¡£ç»“æ„"></a>æ–‡æ¡£ç»“æ„</h2><p>ä½ å¯ä»¥æŠŠHTMLæ–‡æ¡£æƒ³è±¡ä¸ºä¸€ä¸ªåµŒå¥—çš„ç›’å­é›†åˆã€‚åƒ<code>&lt;body&gt;&lt;/body&gt;</code>åŒ…å›´å…¶ä»–çš„æ ‡ç­¾ï¼Œè¿™äº›è¢«åŒ…å›´çš„æ ‡ç­¾è¿”å›æ¥åˆåŒ…å«å…¶ä»–æ ‡ç­¾æˆ–è€…æ–‡æœ¬ã€‚è¿™æœ‰ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My home page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>My home page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello, I am Marijn and this is my home page.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>I also wrote a book! Read it</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://eloquentjavascript.net"</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é¡µé¢æœ‰å¦‚ä¸‹ç»“æ„</p>


<p>æµè§ˆå™¨ç”¨äºè¡¨ç¤ºæ–‡æ¡£çš„æ•°æ®ç»“æ„éµå¾ªè¿™ç§å½¢çŠ¶ã€‚å¯¹äºæ¯ä¸ªç›’å­ï¼Œæœ‰ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥äº¤äº’çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å®ƒä»£è¡¨çš„HTMLæ ‡ç­¾ä»¥åŠåŒ…å«çš„ç›’å­å’Œæ–‡æœ¬ã€‚è¿™ç§è¡¨ç¤ºå«åšæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œæˆ–è€…ç®€è¨€ä¹‹DOMã€‚</p>
<p>å…¨å±€ç»‘å®š<code>document</code>èµ‹äºˆæˆ‘ä»¬è·å–è¿™äº›å¯¹è±¡çš„èƒ½åŠ›ã€‚<code>documentElement</code>å±æ€§æŒ‡çš„æ˜¯è¡¨ç¤º<code>&lt;html&gt;</code>æ ‡ç­¾çš„å¯¹è±¡ã€‚å› ä¸ºæ¯ä¸ªHTMLæ–‡æ¡£æœ‰ä¸€ä¸ªheadå’Œä¸€ä¸ªbodyï¼Œå®ƒä¹Ÿæœ‰headå’Œbodyå±æ€§ï¼ŒæŒ‡å‘é‚£äº›å…ƒç´ ã€‚</p>
<h2 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h2><p>å›æƒ³ä¸€ä¸‹12ç« çš„è¯­æ³•æ ‘ã€‚ä»–ä»¬çš„ç»“æ„éå¸¸ç±»ä¼¼æµè§ˆå™¨æ–‡æ¡£çš„ç»“æ„ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½å¼•ç”¨å…¶ä»–çš„å„¿å­èŠ‚ç‚¹ï¼Œåè¿‡æ¥ä¹Ÿå¯èƒ½æœ‰å®ƒä»¬çš„å„¿å­èŠ‚ç‚¹ã€‚è¿™ç§å½¢çŠ¶åœ¨åµŒå¥—çš„ç»“æ„ä¸­å¾ˆå…¸å‹ï¼Œå…ƒç´ å¯ä»¥åŒ…å«ç±»ä¼¼äºå®ƒä»¬è‡ªå·±çš„å­å…ƒç´ ã€‚</p>
<p>æˆ‘ä»¬å°†è¿™æ ·çš„æ•°æ®ç»“æ„å«åšæ ‘ï¼Œå½“ä»–æœ‰ä¸€ä¸ªåˆ†æ”¯ç»“æ„æ—¶ï¼Œæ²¡æœ‰ç¯è·¯ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¸èƒ½åŒ…å«è‡ªå·±ï¼Œç›´æ¥æˆ–é—´æ¥éƒ½ä¸è¡Œï¼‰ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå•ä¸€çš„å®šä¹‰è‰¯å¥½çš„æ ¹ã€‚åœ¨DOMä¸­ï¼Œ<code>document.documentElement</code>ä½œä¸ºæ ¹å…ƒç´ å­˜åœ¨ã€‚</p>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­æ ‘ç»å¸¸å‡ºç°ã€‚é™¤äº†è¡¨ç¤ºå¦‚HTMLæ–‡æ¡£æˆ–è€…ç¨‹åºè¿™æ ·çš„é€’å½’ç»“æ„ï¼Œä»–ä»¬ç»å¸¸è¢«ç”¨äºç»´æŠ¤æœ‰åºçš„æ•°æ®é›†ï¼Œå› ä¸ºå…ƒç´ ç›¸æ¯”åœ¨æ™®é€šæ•°ç»„ä¸­ï¼Œå¯ä»¥æ›´é«˜æ•ˆçš„æŸ¥æ‰¾æˆ–è€…æ’å…¥ã€‚</p>
<p>ä¸€ä¸ªå…¸å‹çš„æ ‘æœ‰ä¸åŒç§ç±»çš„èŠ‚ç‚¹ã€‚eggè¯­è¨€çš„è¯­æ³•æ ‘æœ‰æ ‡è¯†ç¬¦ï¼Œå€¼å’Œåº”ç”¨èŠ‚ç‚¹ï¼ˆapplication nodeï¼‰ã€‚åº”ç”¨èŠ‚ç‚¹å¯èƒ½åŒ…å«å„¿å­ï¼Œè€Œæ ‡è¯†ç¬¦å’Œå€¼æ˜¯å¶å­èŠ‚ç‚¹ï¼Œæˆ–è€…è¯´æ˜¯ä¸åŒ…å«å„¿å­çš„èŠ‚ç‚¹ã€‚</p>
<p>DOMçš„å…ƒç´ èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå®ƒä»¬ä»£è¡¨HTMLæ ‡ç­¾ï¼Œå†³å®šäº†æ–‡æ¡£çš„ç»“æ„ã€‚è¿™äº›å¯ä»¥æœ‰å„¿å­èŠ‚ç‚¹ã€‚è¿™æ ·çš„èŠ‚ç‚¹çš„ä¸€ä¸ªä¾‹å­å°±æ˜¯<code>document.body</code>ã€‚è¿™äº›å„¿å­èŠ‚ç‚¹ä¸­çš„ä¸€äº›å¯èƒ½æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå¦‚æ–‡æœ¬æˆ–è€…æ³¨é‡ŠèŠ‚ç‚¹ã€‚</p>
<p>æ¯ä¸€ä¸ªDOMèŠ‚ç‚¹å¯¹è±¡æ‹¥æœ‰ä¸€ä¸ª<code>nodeType</code>å±æ€§ï¼ŒåŒ…å«ä¸€ä¸ªæ•°å­—ä»£ç æ ‡è¯†èŠ‚ç‚¹ç±»å‹ã€‚å…ƒç´ çš„ä»£ç ä¸º1ï¼Œä¹Ÿå®šä¹‰åœ¨å¸¸é‡å±æ€§<code>Node.ELEMENT_NODE</code>ä¸­ã€‚æ–‡æœ¬èŠ‚ç‚¹ï¼Œä»£è¡¨æ–‡æ¡£ä¸­çš„ä¸€éƒ¨åˆ†æ–‡æœ¬ï¼Œä»£ç ä¸º3ï¼ˆ<code>Node.TEXT_NODE</code>ï¼‰ã€‚æ³¨é‡Šä»£ç ä¸º8ï¼ˆ<code>Node.COMMENT_NODE</code>ï¼‰ã€‚</p>
<p>å¦ä¸€ç§å¯è§†åŒ–æˆ‘ä»¬æ–‡æ¡£æ ‘çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>


<p>æ–‡æœ¬èŠ‚ç‚¹ä½œä¸ºå¶å­èŠ‚ç‚¹ï¼Œç®­å¤´ç”¨æ¥è¡¨æ˜èŠ‚ç‚¹é—´çš„çˆ¶å­å…³ç³»ã€‚</p>
<h2 id="æ ‡å‡†"><a href="#æ ‡å‡†" class="headerlink" title="æ ‡å‡†"></a>æ ‡å‡†</h2><p>ä½¿ç”¨ç¥ç§˜çš„æ•°å­—ä»£ç æ ‡è¯†èŠ‚ç‚¹ç±»å‹ä¸æ˜¯åƒJSåšçš„äº‹æƒ…ã€‚æœ¬ç« çš„ç¨åå°†ä¼šçœ‹åˆ°DOMæ¥å£çš„å…¶ä»–éƒ¨åˆ†åŒæ ·ç¬¨é‡å¹¶ä¸”é™Œç”Ÿã€‚åŸå› å°±æ˜¯DOMæ¥å£ä¸ä»…æ˜¯ä¸ºJSè®¾è®¡çš„ã€‚ç›¸åï¼Œå®ƒå°½åŠ›æˆä¸ºä¸€ä¸ªè¯­è¨€ä¸­ç«‹çš„æ¥å£æ¥ä½¿å¾—è‡ªå·±ä¹Ÿå¯ä»¥è¢«ç”¨åˆ°å…¶å®ƒç³»ç»Ÿâ€”â€”ä¸ä»…æ˜¯HTMLä¹ŸåŒ…æ‹¬XMLï¼ŒXMLæ˜¯ä¸€ç§æœ‰ç€ç±»HTMLè¯­æ³•çš„é€šç”¨æ•°æ®æ ¼å¼ã€‚</p>
<p>è¿™æ˜¯ä¸å¹¸çš„ã€‚æ ‡å‡†é€šå¸¸æ˜¯æœ‰ç”¨çš„ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œä¼˜åŠ¿ï¼ˆè·¨è¯­è¨€ä¸€è‡´æ€§ï¼‰å¹¶ä¸æ˜¯é‚£ä¹ˆå¼•äººæ³¨ç›®çš„ã€‚æœ‰ä¸€ä¸ªå’Œæ‰€ä½¿ç”¨çš„è¯­è¨€æ°å½“é›†æˆçš„æ¥å£è¦çœä¸å°‘æ—¶é—´ï¼Œæ¯”èµ·è·¨è¯­è¨€ä½¿ç”¨ç†Ÿæ‚‰çš„æ¥å£ã€‚</p>
<p>ä½œä¸ºè¿™ç§ä¸å¥½é›†æˆçš„ä¸€ä¸ªä¾‹å­ï¼Œè€ƒè™‘domä¸­å…ƒç´ èŠ‚ç‚¹çš„<code>childNodes</code>å±æ€§ã€‚è¿™ä¸ªå±æ€§ä¿å­˜äº†ä¸€ä¸ªç±»æ•°ç»„çš„å¯¹è±¡ï¼Œæœ‰ä¸€ä¸ª<code>length</code>å±æ€§å’Œä¸€äº›ä»¥æ•°å­—ä¸ºæ ‡ç­¾çš„å±æ€§ç”¨æ¥è·å–å­èŠ‚ç‚¹ã€‚ä½†æ˜¯å®ƒæ˜¯<code>NodeList</code>ç±»å‹çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ‰€ä»¥æ²¡æœ‰<code>slice</code>å’Œ<code>map</code>æ–¹æ³•ã€‚</p>
<p>è¿˜æœ‰ä¸€äº›é—®é¢˜ä»…ä»…æ˜¯ç³Ÿç³•çš„è®¾è®¡ã€‚ä¾‹å¦‚ï¼Œæ²¡æœ‰åŠæ³•åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹å¹¶ç«‹åˆ»å‘ä¸Šé¢æ·»åŠ å„¿å­èŠ‚ç‚¹æˆ–è€…å±æ€§ã€‚ç›¸åï¼Œä½ å¿…é¡»é¦–å…ˆåˆ›å»ºå®ƒï¼Œå¹¶ä¸”ä½¿ç”¨å‰¯ä½œç”¨ä¸€ä¸ªæ¥ä¸€ä¸ªæ·»åŠ å„¿å­å’Œå±æ€§ã€‚ä¸DOMäº¤äº’çš„ä»£ç å¾ˆé•¿ï¼Œé‡å¤å¹¶ä¸”ä¸‘é™‹ã€‚</p>
<p>ä½†æ˜¯è¿™äº›ç¼ºé™·å¹¶ä¸è‡´å‘½ã€‚å› ä¸ºJSå…è®¸æˆ‘ä»¬åˆ›é€ è‡ªå·±çš„æŠ½è±¡ï¼Œè®¾è®¡æ”¹è¿›çš„æ–¹å¼æ¥è¡¨è¾¾ä½ æ‰§è¡Œçš„æ“ä½œæ˜¯å¯èƒ½çš„ã€‚æµè§ˆå™¨ç¼–ç¨‹çš„è®¸å¤šåº“éƒ½å¸¦æœ‰è¿™äº›å·¥å…·ã€‚</p>
<h2 id="éå†æ ‘"><a href="#éå†æ ‘" class="headerlink" title="éå†æ ‘"></a>éå†æ ‘</h2><p>DOMèŠ‚ç‚¹åŒ…å«è®¸å¤šåˆ°å…¶ä»–ä¸´è¿‘èŠ‚ç‚¹çš„é“¾æ¥ã€‚å¦‚å›¾ï¼š</p>


<p>å³ä½¿å›¾åªå±•ç¤ºäº†æ¯ç§ç±»å‹çš„ä¸€ä¸ªé“¾æ¥ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ª<code>parentNode</code>å±æ€§æŒ‡å‘å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚ç±»ä¼¼çš„ï¼Œæ¯ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹ç±»å‹1ï¼‰æœ‰ä¸€ä¸ª<code>childNodes</code>å±æ€§æŒ‡å‘ä¸€ä¸ªä¿å­˜å®ƒå„¿å­èŠ‚ç‚¹çš„ç±»æ•°ç»„å¯¹è±¡ã€‚</p>
<p>ç†è®ºä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™äº›çˆ¶å­é“¾æ¥æ¥åœ¨æ ‘ä¸­åšä»»ä½•ç§»åŠ¨ã€‚ä½†æ˜¯JSä¹Ÿç»™ä½ è·å–ä¸€äº›é¢å¤–çš„æ–¹ä¾¿çš„é“¾æ¥ã€‚<code>firstChild</code>å’Œ<code>lastChild</code>å±æ€§æŒ‡å‘ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå­å…ƒç´ æˆ–è€…å¯¹äºæ²¡æœ‰å­©å­çš„èŠ‚ç‚¹å€¼ä¸ºnullã€‚ç›¸ä¼¼åœ°ï¼Œ<code>previousSibling</code>å’Œ<code>nextSibling</code>æŒ‡å‘é‚»è¿‘çš„èŠ‚ç‚¹ï¼Œå°±æ˜¯åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸‹çš„ç«‹åˆ»å‡ºç°åœ¨ä»–ä»¬ä¹‹å‰çš„èŠ‚ç‚¹å’Œå®ƒä»¬ä¹‹åçš„èŠ‚ç‚¹ã€‚å¯¹äºç¬¬ä¸€ä¸ªå„¿å­ï¼Œ<code>previousSibling</code>å°†ä¼šä¸ºnullï¼Œè€Œå¯¹äºæœ€åä¸€ä¸ªå„¿å­ï¼Œ<code>nextSibling</code>ä¸ºnullã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ª<code>children</code>å±æ€§ï¼Œç±»ä¼¼äº<code>childNodes</code>å±æ€§ä½†æ˜¯åªåŒ…å«å…ƒç´ ï¼ˆç±»å‹1ï¼‰å„¿å­ï¼Œæ²¡æœ‰å…¶ä»–ç±»å‹çš„å„¿å­èŠ‚ç‚¹ã€‚å½“ä½ å¯¹æ–‡æœ¬èŠ‚ç‚¹ä¸æ„Ÿå…´è¶£æ—¶è¿™æ˜¯æœ‰ç”¨çš„ã€‚</p>
<p>å½“å¤„ç†ç±»ä¼¼è¿™ä¸ªçš„åµŒå¥—æ•°æ®ç»“æ„æ—¶ï¼Œé€’å½’å‡½æ•°é€šå¸¸å¾ˆæœ‰ç”¨ã€‚ä¸‹é¢çš„å‡½æ•°æ‰«æä¸€ä¸ªæ–‡æ¡£çš„åŒ…å«ç»™å®šå­—ç¬¦ä¸²çš„æ–‡æœ¬èŠ‚ç‚¹å¹¶ä¸”å½“å‘ç°çš„æ—¶å€™è¿”å›<code>true</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">talksAbout</span>(<span class="params">node, string</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node.nodeType == Node.ELEMETN_NODE) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; node.childNodes.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(talksAbout(node.childNodes[i], string)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (node.nodeType == Node.TEXT_NODE) &#123;</span><br><span class="line">        <span class="keyword">return</span> node.nodeValue.indexOf(string) &gt; <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(talksAbout(<span class="built_in">document</span>.body, <span class="string">"book"</span>));</span><br><span class="line"><span class="comment">// -&gt; true</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸º<code>childNodes</code>ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨<code>for/of</code>éå†ï¼Œå¹¶ä¸”å¿…é¡»ä½¿ç”¨å¸¸è§„çš„<code>for</code>å¾ªç¯æˆ–è€…ä½¿ç”¨<code>Array.from</code>ã€‚</p>
<p>æ–‡æœ¬èŠ‚ç‚¹çš„<code>nodeValue</code>å±æ€§ä¿å­˜äº†å®ƒè¡¨ç¤ºçš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚</p>
<h2 id="å‘ç°å…ƒç´ "><a href="#å‘ç°å…ƒç´ " class="headerlink" title="å‘ç°å…ƒç´ "></a>å‘ç°å…ƒç´ </h2><p>åœ¨è¿™äº›çˆ¶å­å…„å¼Ÿä¹‹é—´å¯¼èˆªè¿™äº›é“¾æ¥å¾ˆæœ‰ç”¨ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­æ‰¾åˆ°ç‰¹å®šçš„èŠ‚ç‚¹ï¼Œé€šè¿‡åœ¨<code>document.body</code>å¼€å§‹å¹¶ä¸”éµå¾ªä¸€ä¸ªå›ºå®šçš„è·¯å¾„æ˜¯é”™è¯¯çš„ä¸»æ„ã€‚è¿™æ ·åšä¼šå¯¹æˆ‘ä»¬çš„æ–‡æ¡£ç»“æ„åšå‡ºå‡è®¾â€”â€”éšåè¿˜å¯èƒ½ä¼šæ”¹å˜ç»“æ„ã€‚å¦ä¸€ä¸ªå¤æ‚çš„å› ç´ æ˜¯å³ä½¿å¯¹äºèŠ‚ç‚¹é—´çš„ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹ä¹Ÿä¼šåˆ›å»ºã€‚ä¾‹å­ä¸­çš„documentçš„<code>&lt;body&gt;</code>æ ‡ç­¾ä¸ä»…åªæœ‰ä¸‰ä¸ªå­©å­ï¼ˆ<code>&lt;h1&gt;</code>å’Œä¸¤ä¸ª<code>&lt;p&gt;</code>ï¼‰ï¼Œå®é™…ä¸Šæœ‰ä¸ƒä¸ªèŠ‚ç‚¹ï¼šè¿™ä¸‰ä¸ªï¼ŒåŠ ä¸Šå‰åçš„ç©ºç™½ä»¥åŠä¸­é—´çš„ç©ºç™½ã€‚</p>
<p>æ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨æ–‡æ¡£ä¸­è·å–é“¾æ¥çš„<code>href</code>å±æ€§ï¼Œæˆ‘ä»¬ä¸æƒ³è¦è¯´ç±»ä¼¼â€è·å–document bodyç¬¬å…­ä¸ªå­©å­çš„ç¬¬äºŒä¸ªå­©å­â€è¿™æ ·çš„è¯è¯­ã€‚å¦‚æœæˆ‘ä»¬è¯´â€œè·å–documentä¸­çš„ç¬¬ä¸€ä¸ªé“¾æ¥â€æ›´å¥½ã€‚æˆ‘ä»¬å½“ç„¶å¯ä»¥è¿™æ ·åšã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> link = <span class="built_in">document</span>.body.getElementsByTagName(<span class="string">"a"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">console</span>.log(link.href);</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰çš„å…ƒç´ èŠ‚ç‚¹æœ‰ä¸€ä¸ª<code>getElementsByTagName</code>æ–¹æ³•ï¼Œæ”¶é›†æ‰€æœ‰ç»™å®šæ ‡ç­¾åå­—çš„å…ƒç´ ï¼Œç›´æ¥æˆ–è€…é—´æ¥eideré‚£ä¸ªèŠ‚ç‚¹çš„å­©å­å¹¶ä¸”å°†å…¶ä½œä¸ºä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è¿”å›ã€‚</p>
<p>ä¸ºäº†æ‰¾åˆ°ä¸€ä¸ªç‰¹å®šçš„å•ä¸ªèŠ‚ç‚¹ï¼Œä½ å¯ä»¥ç»™å®ƒä¸€ä¸ªidå±æ€§å¹¶ä¸”ä½¿ç”¨<code>document.getElementById</code>æ¥ä»£æ›¿ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>My ostrich Gertrude:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"gertrude"</span> <span class="attr">src</span>=<span class="string">"img/ostrich.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> ostrich = <span class="built_in">document</span>.getElementById(<span class="string">"gertrude"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(ostrich.src);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰ç§ç›¸ä¼¼çš„æ–¹æ³•æ˜¯<code>getElementsByClassName</code>ï¼Œç±»ä¼¼äº<code>getElementsByTagName</code>ï¼Œæœç´¢å…ƒç´ èŠ‚ç‚¹çš„å†…å®¹ï¼Œå¹¶ä¸”æ£€ç´¢æ‰€æœ‰åœ¨ä»–ä»¬<code>class</code>å±æ€§ä¸­åŒ…å«ç»™å®šå­—ç¬¦ä¸²çš„å…ƒç´ ã€‚</p>
<h2 id="æ”¹å˜document"><a href="#æ”¹å˜document" class="headerlink" title="æ”¹å˜document"></a>æ”¹å˜document</h2><p>å‡ ä¹æ‰€æœ‰çš„å…³äºDOMæ•°æ®ç»“æ„çš„ä¸œè¥¿å¯ä»¥è¢«æ”¹å˜ã€‚é€šè¿‡æ”¹å˜çˆ¶å­å…³ç³»æ–‡æ¡£æ ‘çš„å½¢çŠ¶å¯ä»¥è¢«æ”¹å˜ã€‚èŠ‚ç‚¹æœ‰ä¸€ä¸ª<code>remove</code>æ–¹æ³•æ¥ä»ä»–ä»¬å½“å‰çš„çˆ¶èŠ‚ç‚¹ä¸­ç§»é™¤å®ƒä»¬ã€‚ä¸ºäº†å‘ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>appendChild</code>ï¼Œå°†å­èŠ‚ç‚¹æ·»åŠ åœ¨å­©å­èŠ‚ç‚¹åˆ—è¡¨çš„æœ«å°¾ï¼Œæˆ–è€…<code>insertBefore</code>ï¼Œå°†ç¬¬ä¸€ä¸ªå‚æ•°èŠ‚ç‚¹æ’å…¥åˆ°ç¬¬äºŒä¸ªå‚æ•°èŠ‚ç‚¹ä¹‹å‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>One<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Two<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Three<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> paragraphs = <span class="built_in">document</span>.body.getElementsByTagName(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.body.insertBefore(paragraphs[<span class="number">2</span>], paragraphs[<span class="number">0</span>]);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªèŠ‚ç‚¹åªèƒ½åœ¨æ–‡æ¡£ä¸­å æ®ä¸€ä¸ªä½ç½®ã€‚å› æ­¤ï¼Œå°†æ®µè½3æ’å…¥åˆ°æ®µè½ä¸€å‰é¢å°†é¦–å…ˆä»æ–‡æ¡£æœ«å°¾ç§»é™¤å®ƒå¹¶ä¸”ç„¶ååœ¨å‰é¢æ’å…¥å®ƒï¼Œå¯¼è‡´312çš„é¡ºåºã€‚æ‰€æœ‰æ’å…¥ç»“ç‚¹çš„æ“ä½œï¼Œä½œä¸ºä¸€ç§å‰¯ä½œç”¨éƒ½ä¼šå¯¼è‡´å®ƒè¢«ä»å½“å‰ä½ç½®ç§»é™¤ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚</p>
<p><code>replaceChild</code>æ–¹æ³•è¢«ç”¨äºç”¨å¦ä¸€ä¸ªèŠ‚ç‚¹æ›¿æ¢ä¸€ä¸ªå­©å­èŠ‚ç‚¹ã€‚æ¥å—ä¸€ä¸ªæ–°èŠ‚ç‚¹å‚æ•°å’Œå¦ä¸€ä¸ªè¦è¢«æ›¿æ¢çš„èŠ‚ç‚¹ã€‚è¢«æ›¿æ¢çš„èŠ‚ç‚¹å¿…é¡»æ˜¯æ–¹æ³•è°ƒç”¨çš„å¯¹è±¡çš„å­©å­ã€‚æ³¨æ„<code>replaceChild</code>å’Œ<code>insertBefore</code>æœŸæœ›æ–°èŠ‚ç‚¹æ˜¯å®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
<h2 id="åˆ›é€ èŠ‚ç‚¹"><a href="#åˆ›é€ èŠ‚ç‚¹" class="headerlink" title="åˆ›é€ èŠ‚ç‚¹"></a>åˆ›é€ èŠ‚ç‚¹</h2><p>å‡å¦‚æˆ‘ä»¬æƒ³è¦ä¹¦å†™ä¸€ä¸ªscriptï¼Œæ¥å°†documentä¸­æ‰€æœ‰å›¾ç‰‡æ ‡ç­¾æ›¿æ¢æˆå…¶altå±æ€§ä¸­çš„æ–‡å­—ã€‚</p>
<p>è¿™ä¸ä»…æ¶‰åŠåˆ°ç§»é™¤å›¾ç‰‡ï¼ŒåŒæ—¶è¿˜è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ–‡æœ¬èŠ‚ç‚¹æ¥æ›¿æ¢ä»–ä»¬ã€‚æ–‡æœ¬èŠ‚ç‚¹ä½¿ç”¨<code>document.createTextNode</code>æ–¹æ³•åˆ›å»ºã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/cat.png"</span> <span class="attr">alt</span>=<span class="string">"Cat"</span>&gt;</span> in the</span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/hat.png"</span> <span class="attr">alt</span>=<span class="string">"Hat"</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"replaceImages()"</span>&gt;</span>Replace<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">replaceImages</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> images = <span class="built_in">document</span>.body.getElementsByTagName(<span class="string">"img"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> i = images.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> image = images[i];</span></span><br><span class="line">      if (image.alt) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> text = <span class="built_in">document</span>.createTextNode(image.alt);</span></span><br><span class="line">        image.parentNode.replaceChild(text, image);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ<code>createTextNode</code>åˆ›é€ ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥ç”¨äºæ’å…¥æ–‡æ¡£çš„æ–‡æœ¬èŠ‚ç‚¹å¹¶ä¸”è®©ä»–å±•ç¤ºåœ¨å±å¹•ä¸Šã€‚</p>
<p>å¾ªç¯å¼€å§‹äºåˆ—è¡¨æœ«å°¾çš„å›¾ç‰‡ã€‚è¿™æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºç”±æ–¹æ³•ç±»ä¼¼<code>getElementsByTagName</code>ï¼ˆæˆ–æ˜¯ä¸€ä¸ªç±»ä¼¼<code>childNodes</code>çš„å±æ€§ï¼‰è¿”å›çš„èŠ‚ç‚¹åˆ—è¡¨æ˜¯å®æ—¶å˜åŒ–çš„ã€‚ä¹Ÿå°±æ˜¯éšç€æ–‡æ¡£å˜åŒ–è€Œå˜åŒ–ã€‚å¦‚æœæˆ‘ä»¬ä»å‰é¢å¼€å§‹ï¼Œç§»é™¤ç¬¬ä¸€ä¸ªå›¾ç‰‡å°†ä¼šå¯¼è‡´åˆ—è¡¨å¤±å»å®ƒçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡å¾ªç¯é‡å¤çš„æ—¶å€™ï¼Œiä¸º1ï¼Œå¾ªç¯å°†ä¼šåœæ­¢ï¼Œå› ä¸ºé›†åˆçš„é•¿åº¦ä¹Ÿä¸º1äº†ã€‚</p>
<p>å¦‚æœä½ æƒ³è¦ä¸€ä¸ªå¯é çš„èŠ‚ç‚¹é›†åˆï¼Œå¯¹åº”äºä¸€ä¸ªå®æ—¶å˜åŒ–çš„ï¼Œä½ å¯ä»¥é€šè¿‡è°ƒç”¨<code>Array.from</code>æ¥è½¬æ¢é›†åˆåˆ°ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayish = &#123;<span class="number">0</span>: <span class="string">"one"</span>, <span class="number">1</span>: <span class="string">"two"</span>, <span class="attr">length</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> array = <span class="built_in">Array</span>.from(arrayish);</span><br><span class="line"><span class="built_in">console</span>.log(array.map(<span class="function"><span class="params">s</span> =&gt;</span> s.toUpperCase()));</span><br><span class="line"><span class="comment">// â†’ ["ONE", "TWO"]</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†åˆ›å»ºå…ƒç´ èŠ‚ç‚¹ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>document.createElement</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªæ ‡ç­¾åç§°å¹¶ä¸”è¿”å›ä¸€ä¸ªç»™å®šç±»å‹çš„æ–°çš„ç©ºèŠ‚ç‚¹ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå®ç”¨å‡½æ•°<code>elt</code>ï¼Œåˆ›é€ ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†å‰©ä¸‹çš„å‚æ•°çœ‹ä½œæ˜¯è¯¥èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹ã€‚å‡½æ•°ç„¶åè¢«ç”¨äºå‘ä¸€ä¸ªå¼•è¨€æ·»åŠ æ¥æºã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">id</span>=<span class="string">"quote"</span>&gt;</span></span><br><span class="line">  No book can ever be finished. While working on it we learn</span><br><span class="line">  just enough to find it immature the moment we turn away</span><br><span class="line">  from it.</span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">elt</span><span class="params">(type, <span class="rest_arg">...children</span>)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> node = <span class="built_in">document</span>.createElement(type);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> child <span class="keyword">of</span> children) &#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">if</span> (<span class="keyword">typeof</span> child != <span class="string">"string"</span>) node.appendChild(child);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">else</span> node.appendChild(<span class="built_in">document</span>.createTextNode(child));</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> node;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.getElementById(<span class="string">"quote"</span>).appendChild(</span></span><br><span class="line"><span class="actionscript">    elt(<span class="string">"footer"</span>, <span class="string">"â€”"</span>,</span></span><br><span class="line"><span class="actionscript">        elt(<span class="string">"strong"</span>, <span class="string">"Karl Popper"</span>),</span></span><br><span class="line"><span class="actionscript">        <span class="string">", preface to the second editon of "</span>,</span></span><br><span class="line"><span class="actionscript">        elt(<span class="string">"em"</span>, <span class="string">"The Open Society and Its Enemies"</span>),</span></span><br><span class="line"><span class="actionscript">        <span class="string">", 1950"</span>));</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><p>ä¸€äº›å…ƒç´ å±æ€§ï¼Œæ¯”å¦‚é“¾æ¥çš„<code>href</code>å±æ€§ï¼Œå¯ä»¥é€šè¿‡å…ƒç´ çš„DOMå¯¹è±¡çš„åŒåå±æ€§è·å–ã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„æ ‡å‡†å±æ€§çš„æƒ…å†µã€‚</p>
<p>ä½†æ˜¯HTMLå…è®¸ä½ è®¾ç½®ä»»ä½•ä½ æƒ³è¦åœ¨èŠ‚ç‚¹ä¸Šçš„å±æ€§ã€‚å› ä¸ºå®ƒå…è®¸æˆ‘ä»¬åœ¨æ–‡æ¡£ä¸­å­˜å‚¨é¢å¤–çš„ä¿¡æ¯è¿™æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚å¦‚æœä½ æé€ è‡ªå·±çš„å±æ€§åï¼Œå³ä¾¿è¿™æ ·çš„å±æ€§ä¸ä¼šåœ¨å…ƒç´ çš„èŠ‚ç‚¹ä¸Šä½œä¸ºå±æ€§å‘ˆç°ã€‚ä½ å¿…é¡»ä½¿ç”¨<code>getAttribute</code>å’Œ<code>setAttribute</code>æ–¹æ³•æ¥å’Œä»–ä»¬äº¤äº’ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">data-classified</span>=<span class="string">"secret"</span>&gt;</span>The launch code is 00000000.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">data-classified</span>=<span class="string">"unclassified"</span>&gt;</span>I have two feet.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> paras = <span class="built_in">document</span>.body.getElementsByTagName(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> para <span class="keyword">of</span> <span class="built_in">Array</span>.from(paras)) &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">if</span> (para.getAttribute(<span class="string">"data-classified"</span>) == <span class="string">"secret"</span>) &#123;</span></span><br><span class="line">      para.remove();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ¨èåœ¨è¿™æ ·æé€ çš„å±æ€§å‰é¢åŠ ä¸Š<code>data-</code>å‰ç¼€æ¥ç¡®ä¿ä»–ä»¬ä¸å’Œå…¶ä»–ä»»ä½•å±æ€§å†²çªã€‚</p>
<p>æœ‰ä¸€ä¸ªå¸¸ç”¨çš„å±æ€§<code>class</code>ï¼Œæ˜¯JSè¯­è¨€çš„ä¸€ä¸ªå…³é”®å­—ã€‚ç”±äºå†å²åŸå› â€”â€”ä¸€äº›å¤è€çš„JSå®ç°ä¸èƒ½å¤Ÿå¤„ç†åŒ¹é…å…³é”®å­—çš„å±æ€§åâ€”â€”ç”¨äºè·å–è¿™ä¸ªattributeçš„propertyå› æ­¤è¢«å«åš<code>className</code>ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨å®ƒçš„çœŸåè·å–<code>class</code>ï¼Œé€šè¿‡ä½¿ç”¨<code>getAttribute</code>å’Œ<code>setAttribute</code>æ–¹æ³•ã€‚</p>
<h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ä¸åŒç±»å‹çš„å…ƒç´ ä»¥ä¸åŒçš„æ–¹å¼å¸ƒå±€ã€‚ä¸€äº›ç±»ä¼¼äºpæ ‡ç­¾å’Œæ ‡é¢˜æ ‡ç­¾çš„å…ƒç´ ï¼Œå æ®æ–‡æ¡£çš„å…¨éƒ¨å®½åº¦ï¼Œå¹¶ä¸”åœ¨ç‹¬ç«‹çš„è¡Œä¸Šæ¸²æŸ“ã€‚è¿™äº›è¢«å«åšå—çº§å…ƒç´ ã€‚è€Œç±»ä¼¼aæ ‡ç­¾å’Œstrongæ ‡ç­¾ï¼Œå’Œå®ƒä»¬å‘¨å›´çš„æ–‡æœ¬åœ¨åŒä¸€è¡Œä¸Šæ¸²æŸ“ã€‚è¿™æ ·çš„å…ƒç´ å«åšè¡Œå†…å…ƒç´ ã€‚</p>
<p>å¯¹äºä»»ä½•ç»™å®šçš„æ–‡æ¡£ï¼Œæµè§ˆå™¨èƒ½å¤Ÿè®¡ç®—ä¸€ä¸ªå¸ƒå±€ï¼ŒåŸºäºæ¯ä¸ªå…ƒç´ çš„ç±»å‹å’Œå†…å®¹ç»™å‡ºå¤§å°å’Œä½ç½®ã€‚è¿™ä¸ªå¸ƒå±€ç„¶åå°±è¢«ç”¨äºç»˜ç”»æ–‡æ¡£ã€‚</p>
<p>å…ƒç´ çš„å¤§å°å’Œä½ç½®å¯ä»¥é€šè¿‡JSè·å–ã€‚<code>offsetWidth</code>å’Œ<code>offsetHeight</code>å±æ€§å‘Šè¯‰ä½ å…ƒç´ å æ®çš„åƒç´ ç©ºé—´ã€‚ä¸€ä¸ªåƒç´ æ˜¯æµè§ˆå™¨ä¸­çš„åº¦é‡çš„æœ€åŸºæœ¬å•ä½ã€‚å®ƒä¼ ç»Ÿä¸Šå¯¹åº”äºå±å¹•å¯ä»¥ç»˜ç”»çš„æœ€å°çš„ç‚¹ï¼Œä½†æ˜¯åœ¨ç°ä»£æµè§ˆå™¨ä¸Šå¯ä»¥ç”»éå¸¸å°çš„ç‚¹ï¼Œå¯èƒ½å°±ä¸æ˜¯è¿™æ ·äº†ï¼Œä¸€ä¸ªæµè§ˆå™¨åƒç´ å¯èƒ½è·¨è¶Šå¤šä¸ªæ˜¾ç¤ºç‚¹ã€‚</p>
<p>ç›¸ä¼¼åœ°ï¼Œ<code>clientWidth</code>å’Œ<code>clientHeight</code>ç»™å‡ºå…ƒç´ å†…éƒ¨çš„ç©ºé—´å¤§å°ï¼Œå¿½ç•¥è¾¹æ¡†å®½åº¦ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"border: 3px solid red"</span>&gt;</span></span><br><span class="line">  I'm boxed in</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> para = <span class="built_in">document</span>.body.getElementsByTagName(<span class="string">"p"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"clientHeight:"</span>, para.clientHeight);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"offsetHeight:"</span>, para.offsetHeight);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°åœ¨å±å¹•ä¸Šçš„å…ƒç´ æœ€å‡†ç¡®ä½ç½®çš„æœ€é«˜æ•ˆçš„æ–¹å¼æ˜¯<code>getBoundingClientRect</code>æ–¹æ³•ã€‚å®ƒè¿”å›ä¸€ä¸ªå…·æœ‰<code>top</code>,<code>bottom</code>,<code>left</code>å’Œ<code>right</code>å±æ€§çš„å¯¹è±¡ï¼Œè¡¨æ˜å…ƒç´ è¾¹ç¼˜ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„åƒç´ ä½ç½®ã€‚å¦‚æœæƒ³è¦ä»–ä»¬ç›¸å¯¹äºæ•´ä¸ªæ–‡æ¡£ï¼Œä½ å¿…é¡»è¦æ·»åŠ å½“å‰çš„æ»šåŠ¨ä½ç½®ï¼Œä½ å¯ä»¥åœ¨<code>pageXOffset</code>å’Œ<code>pageYOffset</code>ç»‘å®šä¸­æ‰¾åˆ°ã€‚</p>
<p>ä¸ºä¸€ä¸ªæ–‡æ¡£å¸ƒå±€æ˜¯ä¸€é¡¹ç¹é‡çš„å·¥ä½œã€‚è€ƒè™‘åˆ°é€Ÿåº¦ï¼Œæ¯å½“ä½ æ”¹å˜æ–‡æ¡£çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¼•æ“ä¼šå°½å¯èƒ½é•¿åœ°ç­‰å¾…ï¼Œè€Œä¸ä¼šç«‹åˆ»é‡æ–°å¸ƒå±€ã€‚å½“ä¸€ä¸ªæ”¹å˜æ–‡æ¡£çš„JSç¨‹åºè¿è¡Œç»“æŸçš„æ—¶å€™ï¼Œæµè§ˆå™¨å°±å¿…é¡»è®¡ç®—ä¸€ä¸ªæ–°çš„å¸ƒå±€æ¥å°†æ”¹å˜çš„æ–‡æ¡£ç»˜ç”»åˆ°å±å¹•ä¸Šã€‚å½“ç¨‹åºé€šè¿‡è¯»å–ç±»ä¼¼<code>offsetHeight</code>æˆ–è€…è°ƒç”¨<code>getBoundClientRect</code>è¿™æ ·çš„å±æ€§æ¥è·å–æŸä¸ªä¸œè¥¿çš„ä½ç½®æˆ–è€…å¤§å°æ—¶ï¼Œæä¾›æ­£ç¡®çš„ä¿¡æ¯ä¹Ÿéœ€è¦è®¡ç®—ä¸€ä¸ªå¸ƒå±€ã€‚</p>
<p>ä¸€ä¸ªåå¤è¯»å–DOMå¸ƒå±€ä¿¡æ¯å’Œæ”¹å˜DOMçš„ç¨‹åºä¼šå¼ºåˆ¶æ‰§è¡Œå¤§é‡çš„å¸ƒå±€è®¡ç®—ï¼Œå¹¶ä¸”å°†å› æ­¤è¿è¡Œçš„éå¸¸æ…¢ã€‚ä¸‹é¢çš„ä»£ç æ˜¯ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ã€‚å®ƒåŒ…å«ä¸¤ä¸ªä¸åŒçš„ç¨‹åºï¼Œå®ƒæ„å»ºä¸€è¡Œ2000åƒç´ å®½çš„Xå­—ç¬¦å¹¶ä¸”æµ‹é‡æ¯æ¬¡èŠ±è´¹çš„æ—¶é—´ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"one"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"two"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">time</span><span class="params">(name, action)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> start = <span class="built_in">Date</span>.now(); <span class="comment">// Current time in milliseconds</span></span></span><br><span class="line">    action();</span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(name, <span class="string">"took"</span>, <span class="built_in">Date</span>.now() - start, <span class="string">"ms"</span>);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">  time(<span class="string">"naive"</span>, () =&gt; &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> target = <span class="built_in">document</span>.getElementById(<span class="string">"one"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">while</span> (target.offsetWidth &lt; <span class="number">2000</span>) &#123;</span></span><br><span class="line"><span class="javascript">      target.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"X"</span>));</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="actionscript">  <span class="comment">// â†’ naive took 32 ms</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">  time(<span class="string">"clever"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> target = <span class="built_in">document</span>.getElementById(<span class="string">"two"</span>);</span></span><br><span class="line"><span class="javascript">    target.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"XXXXX"</span>));</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> total = <span class="built_in">Math</span>.ceil(<span class="number">2000</span> / (target.offsetWidth / <span class="number">5</span>));</span></span><br><span class="line"><span class="actionscript">    target.firstChild.nodeValue = <span class="string">"X"</span>.repeat(total);</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="actionscript">  <span class="comment">// â†’ clever took 1 ms</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h2><p>æˆ‘ä»¬å·²ç»çœ‹è§äº†ä¸åŒçš„HTMLå…ƒç´ å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼ç»˜ç”»ã€‚ä¸€äº›ä½œä¸ºå—çº§å…ƒç´ æ˜¾ç¤ºï¼Œè€Œå¦ä¸€äº›ä½œä¸ºè¡Œå†…å…ƒç´ ã€‚ä¸€äº›æ·»åŠ æ ·å¼ï¼Œå¦‚strongä½¿å¾—æˆä¸ºç²—ä½“ï¼Œaæ ‡ç­¾ä½¿å¾—é¢œè‰²å˜è“å¹¶ä¸”æ·»åŠ ä¸‹åˆ’çº¿ã€‚</p>
<p>imgæ ‡ç­¾å±•ç¤ºå›¾ç‰‡çš„æ–¹å¼æˆ–è€…aæ ‡ç­¾åœ¨å•å‡»æ—¶åšé“¾æ¥è·³è½¬å’Œå…ƒç´ ç±»å‹æœ‰å…³ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ”¹å˜å…³è”åˆ°ä¸€ä¸ªå…ƒç´ çš„æ ·å¼ï¼Œå¦‚æ–‡å­—é¢œè‰²æˆ–è€…ä¸‹åˆ’çº¿ã€‚è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨<code>style</code>å±æ€§çš„ä¾‹å­ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"."</span>&gt;</span>Normal link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"."</span> <span class="attr">style</span>=<span class="string">"color: green"</span>&gt;</span>Green link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªstyleå±æ€§å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªå£°æ˜ï¼Œå£°æ˜æ¿€ç´ hiå±æ€§åŠ ä¸Šä¸€ä¸ªå†’å·å’Œä¸€ä¸ªå€¼ã€‚å½“æœ‰è¶…è¿‡ä¸€ä¸ªå£°æ˜æ—¶ï¼Œä»–ä»¬å¿…é¡»ä»¥åˆ†å·åˆ†ç¦»ã€‚<code>color: red; border: none</code>ã€‚</p>
<p>æ–‡æ¡£çš„è®¸å¤šæ–¹é¢éƒ½å¯ä»¥è¢«æ ·å¼å½±å“ã€‚ä¾‹å¦‚ï¼Œ<code>display</code>å±æ€§æ§åˆ¶å…ƒç´ ä»¥å—çº§å…ƒç´ è¿˜æ˜¯è¡Œå†…å…ƒç´ æ˜¾ç¤ºã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">This text is displayed <span class="tag">&lt;<span class="name">strong</span>&gt;</span>inline<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>,</span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span> <span class="attr">style</span>=<span class="string">"display: block"</span>&gt;</span>as a block<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>, and</span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span> <span class="attr">style</span>=<span class="string">"display: none"</span>&gt;</span>not at all<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>.</span><br></pre></td></tr></table></figure>

<p><code>block</code>æ ‡è¯†ä½¿å¾—å®ƒä»¬è‡ªå·±ç‹¬åœ¨ä¸€è¡Œå› ä¸ºå—çº§å…ƒç´ ä¸å’Œå®ƒä»¬å‘¨å›´çš„æ–‡æœ¬æ˜¾ç¤ºåœ¨ä¸€èµ·ã€‚æœ€åä¸€å¥è¯æ²¡æœ‰æ˜¾ç¤ºï¼Œå› ä¸º<code>display:none</code>ä½¿å¾—å…ƒç´ ä¸åœ¨å±å¹•ä¸Šæ˜¾ç¤ºã€‚è¿™æ˜¯ä¸€ç§éšè—å…ƒç´ çš„æ–°æ–¹å¼ã€‚ç›¸æ¯”äºå®Œå…¨ä»æ–‡æ¡£ä¸­ç§»é™¤å®ƒä»¬éšè—èµ·æ¥æ›´å¥½å› ä¸ºä½¿å¾—éšåé‡æ–°æ˜¾ç¤ºå®ƒä»¬æ›´åŠ å®¹æ˜“ã€‚</p>
<p>JSä»£ç å¯ä»¥é€šè¿‡å…ƒç´ çš„<code>style</code>å±æ€§ç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼ã€‚è¿™ä¸ªå±æ€§ä¿å­˜äº†ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯èƒ½çš„æ ·å¼å±æ€§çš„å¯¹è±¡ã€‚è¿™äº›å±æ€§å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œä¸ºäº†æ”¹å˜å…ƒç´ çš„æŸä¸ªæ ·å¼æˆ‘ä»¬å¯ä»¥å†™è¿™äº›å±æ€§ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"para"</span> <span class="attr">style</span>=<span class="string">"color: purple"</span>&gt;</span></span><br><span class="line">  Nice text</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> para = <span class="built_in">document</span>.getElementById(<span class="string">"para"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(para.style.color);</span></span><br><span class="line"><span class="actionscript">  para.style.color = <span class="string">"magenta"</span>;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€äº›æ ·å¼å±æ€§åå­—åŒ…å«çŸ­æ¨ªçº¿ï¼Œå¦‚<code>font-family</code>ã€‚å› ä¸ºè¿™æ ·çš„å±æ€§ååœ¨JSä¸­çœ‹ä¸Šå»æ¯”è¾ƒç¬¨æ‹™ï¼Œstyleå¯¹è±¡ä¸­çš„è¿™æ ·çš„å±æ€§åå°±ç§»é™¤äº†çŸ­æ¨ªçº¿ï¼Œå¹¶ä¸”åœ¨ä»–ä»¬åé¢çš„å•è¯é¦–å­—æ¯å¤§å†™ï¼ˆ<code>style.fontFamily</code>ï¼‰ã€‚</p>
<h2 id="å±‚å æ ·å¼"><a href="#å±‚å æ ·å¼" class="headerlink" title="å±‚å æ ·å¼"></a>å±‚å æ ·å¼</h2><p>HTMLçš„æ ·å¼ç³»ç»Ÿå«åšCSSï¼Œä¹Ÿå°±æ˜¯å±‚å æ ·å¼è¡¨ã€‚ä¸€ä¸ªæ ·å¼è¡¨å°±æ˜¯åœ¨æ–‡æ¡£ä¸­ç»™å…ƒç´ æ·»åŠ æ ·å¼çš„ä¸€å¥—è§„åˆ™ã€‚å¯ä»¥åœ¨<code>&lt;style&gt;</code>æ ‡ç­¾ä¸­ç»™å‡ºã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  strong &#123;</span><br><span class="line">    font-style: italic;</span><br><span class="line">    color: gray;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Now <span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong text<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> is italic and gray.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åå­—ä¸­çš„å±‚å æŒ‡å‡ºå¤šä¸ªè¿™æ ·çš„è§„åˆ™è¢«ç»„åˆå»äº§ç”Ÿå…ƒç´ æœ€ç»ˆçš„æ ·å¼ã€‚ä¾‹å­ä¸­ï¼Œé»˜è®¤çš„<code>&lt;strong&gt;</code>æ ‡ç­¾çš„æ ·å¼ï¼Œä¹Ÿå°±æ˜¯<code>font-weight: bold</code>ï¼Œè¢«åœ¨<code>&lt;style&gt;</code>æ ‡ç­¾ä¸­çš„æ ·å¼é‡å†™äº†ï¼Œæ·»åŠ äº†<code>font-style</code>å’Œ<code>color</code>ã€‚</p>
<p>å½“å¤šä¸ªè§„åˆ™åº”ç”¨åˆ°åŒä¸€å±æ€§æ—¶ï¼Œæœ€è¿‘çš„è¯»å–è§„åˆ™è·å¾—ä¸€ä¸ªé«˜ä¼˜å…ˆçº§å¹¶å¾—åˆ°åº”ç”¨ã€‚æ‰€ä»¥å¦‚æœ<code>&lt;style&gt;</code>æ ‡ç­¾ä¸­åŒ…å«<code>font-weight: normal</code>ä¸é»˜è®¤çš„<code>font-weight</code>è§„åˆ™çŸ›ç›¾ï¼Œæ–‡æœ¬å°±å°†ä¼šæ˜¯normalï¼Œè€Œä¸æ˜¯boldçš„ã€‚ç›´æ¥åº”ç”¨åˆ°èŠ‚ç‚¹çš„<code>style</code>å±æ€§ä¸­çš„æ ·å¼æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§å¹¶ä¸”æ€»æ˜¯èƒœå‡ºã€‚</p>
<p>å¯ä»¥ä¸ç”¨æ ‡ç­¾ååœ¨CSSè§„åˆ™ä¸­å®šä½ã€‚<code>.abc</code>åº”ç”¨åˆ°æ‰€æœ‰ç±»å±æ€§ä¸­åŒ…å«â€abcâ€çš„å…ƒç´ ã€‚<code>#xyx</code>åº”ç”¨åˆ°æ‰€æœ‰idå±æ€§åŒ…å«â€xyzâ€çš„å…ƒç´ ï¼ˆåº”è¯¥æ˜¯æ–‡æ¡£ä¸­ç‹¬ä¸€æ— äºŒçš„ï¼‰ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.subtle</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: gray;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* p elements with id main and with classes a and b */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-id">#main</span><span class="selector-class">.a</span><span class="selector-class">.b</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼˜å…ˆè§„åˆ™åªæœ‰åœ¨è§„åˆ™æœ‰ç›¸åŒçš„ç‰¹æ®Šæ€§æ—¶æ‰å…·æœ‰å°±è¿‘åŸåˆ™ã€‚ä¸€ä¸ªè§„åˆ™çš„ç‰¹æ®Šæ€§å°±æ˜¯èƒ½å¤Ÿå¤šç²¾å‡†çš„æè¿°åŒ¹é…å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå®šä½<code>p.a</code>è¦æ¯”å®šä½<code>p</code>æˆ–è€…<code>.a</code>è¦ç²¾å‡†ï¼Œå¹¶ä¸”ä¼šæœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚</p>
<p><code>p &gt; a{...}</code>æ ‡è®°åº”ç”¨ç»™å®šæ ·å¼åˆ°æ‰€æœ‰æ˜¯pæ ‡ç­¾ç›´æ¥å­©å­çš„aæ ‡ç­¾å…ƒç´ ã€‚ç›¸ä¼¼åœ°ï¼Œ<code>p a{..}</code>åº”ç”¨åˆ°pæ ‡ç­¾å†…çš„aæ ‡ç­¾ï¼Œä¸ç®¡ä»–ä»¬æ˜¯ä¸æ˜¯ç›´æ¥å­©å­ï¼ŒæŠ‘æˆ–æ˜¯é—´æ¥å­©å­ã€‚</p>
<h2 id="æŸ¥è¯¢é€‰æ‹©å™¨"><a href="#æŸ¥è¯¢é€‰æ‹©å™¨" class="headerlink" title="æŸ¥è¯¢é€‰æ‹©å™¨"></a>æŸ¥è¯¢é€‰æ‹©å™¨</h2><p>æˆ‘ä»¬ä¸ä¼šåœ¨è¿™æœ¬ä¹¦ä¸­ä½¿ç”¨å¤ªå¤šæ ·å¼è¡¨ã€‚åœ¨æµè§ˆå™¨ä¸­ç¼–ç¨‹ç†è§£ä»–ä»¬æ˜¯æœ‰å¸®åŠ©çš„ï¼Œä½†æ˜¯å®ƒä»¬å¾ˆå¤æ‚ï¼Œè¦å•ç‹¬å†™ä¸€æœ¬ä¹¦ã€‚</p>
<p>æˆ‘ä»‹ç»é€‰æ‹©å™¨è¯­æ³•çš„ä¸»è¦åŸå› â€”â€”ç”¨åœ¨æ ·å¼è¡¨ä¸­å†³å®šä¸€ç»„æ ·å¼åº”ç”¨åˆ°å“ªäº›å…ƒç´ ä¸Šâ€”â€”æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ç§å¾®è¯­è¨€ä½œä¸ºä¸€ç§é«˜æ•ˆçš„æ–¹å¼å»æŸ¥æ‰¾DOMå…ƒç´ ã€‚</p>
<p><code>querySelectorAll</code>æ–¹æ³•ï¼ŒåŒæ—¶å®šä¹‰åœ¨<code>document</code>å¯¹è±¡å’Œå…ƒç´ èŠ‚ç‚¹ï¼Œæ¥å—ä¸€ä¸ªé€‰æ‹©å™¨å­—ç¬¦ä¸²å¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…å…ƒç´ çš„<code>NodeList</code>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>And if you go chasing</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"animal"</span>&gt;</span>rabbits<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>And you know you're going to fall<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Tell 'em a <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"character"</span>&gt;</span>hookah smoking</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"animal"</span>&gt;</span>caterpillar<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Has given you the call<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">count</span><span class="params">(selector)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="built_in">document</span>.querySelectorAll(selector).length;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(count(<span class="string">"p"</span>));           <span class="comment">// All &lt;p&gt; elements</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">// â†’ 4</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(count(<span class="string">".animal"</span>));     <span class="comment">// Class animal</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">// â†’ 2</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(count(<span class="string">"p .animal"</span>));   <span class="comment">// Animal inside of &lt;p&gt;</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">// â†’ 2</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(count(<span class="string">"p &gt; .animal"</span>)); <span class="comment">// Direct child of &lt;p&gt;</span></span></span><br><span class="line"><span class="actionscript">  <span class="comment">// â†’ 1</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸åƒå¦‚<code>getElementsByTagName</code>è¿™æ ·çš„æ–¹æ³•ï¼Œç”±<code>querySelectorAll</code>è¿”å›çš„å¯¹è±¡ä¸æ˜¯å®æ—¶çš„ã€‚å½“ä½ æ”¹å˜æ–‡æ¡£çš„æ—¶å€™ä»–ä¸ä¼šæ”¹å˜ã€‚ä»–ä¹Ÿä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>Array.from</code>å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<p><code>querySelector</code>æ–¹æ³•ï¼ˆæ²¡æœ‰alléƒ¨åˆ†ï¼‰ä»¥ä¸€ç§ç›¸ä¼¼çš„æ–¹å¼å·¥ä½œã€‚å°†åªè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ï¼Œæˆ–è€…æ²¡æœ‰åŒ¹é…å…ƒç´ æ—¶è¿”å›nullã€‚</p>
<h2 id="å®šä½å’ŒåŠ¨ç”»"><a href="#å®šä½å’ŒåŠ¨ç”»" class="headerlink" title="å®šä½å’ŒåŠ¨ç”»"></a>å®šä½å’ŒåŠ¨ç”»</h2><p><code>position</code>æ ·å¼å±æ€§ä»¥ä¸€ç§å¼ºå¤§çš„æ–¹å¼å½±å“å¸ƒå±€ã€‚é»˜è®¤å±æ€§å€¼ä¸º<code>static</code>ï¼Œæ„å‘³ç€å…ƒç´ åè½åœ¨æ–‡æ¡£ä¸­çš„æ­£å¸¸ä½ç½®ã€‚å½“è¢«è®¾ç½®ä¸º<code>relative</code>æ—¶ï¼Œå…ƒç´ ä»ç„¶åœ¨æ–‡æ¡£ä¸­å æ®ç©ºé—´ï¼Œä½†æ˜¯ç°åœ¨<code>top</code>å’Œ<code>left</code>æ ·å¼å±æ€§å¯è¢«ç”¨äºç›¸å¯¹äºæ­£å¸¸çš„ä½ç½®ç§»åŠ¨ä»–ã€‚å½“<code>position</code>è¢«è®¾ç½®ä¸º<code>absolute</code>æ—¶ï¼Œå…ƒç´ è¢«ä»æ­£å¸¸çš„æ–‡æ¡£æµä¸­ç§»é™¤â€”â€”é‚£å°±æ˜¯è¯´ï¼Œä»–ä¸åœ¨å æ®ç©ºé—´å¹¶ä¸”å¯èƒ½è¢«å…¶ä»–å…ƒç´ è¦†ç›–ã€‚åŒæ—¶ï¼Œå®ƒçš„<code>top</code>å’Œ<code>left</code>å±æ€§å¯ç”¨äºç›¸å¯¹æœ€è¿‘çš„<code>position</code>å±æ€§ä¸æ˜¯<code>static</code>çš„å¤–éƒ¨å…ƒç´ çš„å·¦ä¸Šè§’æ¥ç»å¯¹å®šä½ï¼Œæˆ–è€…å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ æ—¶ï¼Œç›¸å¯¹æ–‡æ¡£æ¥å®šä½ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¥åˆ›é€ åŠ¨ç”»ã€‚ä¸‹é¢çš„æ–‡æ¡£æ˜¾ç¤ºäº†ä¸€ä¸ªçŒ«çš„å›¾ç‰‡ï¼Œä»¥æ¤­åœ†è½¨è¿¹æ¥å›ç§»åŠ¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;p style=<span class="string">"text-align: center"</span>&gt;</span><br><span class="line">  &lt;img src=<span class="string">"img/cat.png"</span> style=<span class="string">"position: relative"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  let cat = document.querySelector("img");</span></span><br><span class="line"><span class="regexp">  let angle = Math.PI /</span> <span class="number">2</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">time, lastTime</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lastTime != <span class="literal">null</span>) &#123;</span><br><span class="line">      angle += (time - lastTime) * <span class="number">0.001</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cat.style.top = (<span class="built_in">Math</span>.sin(angle) * <span class="number">20</span>) + <span class="string">"px"</span>;</span><br><span class="line">    cat.style.left = (<span class="built_in">Math</span>.cos(angle) * <span class="number">200</span>) + <span class="string">"px"</span>;</span><br><span class="line">    requestAnimationFrame(<span class="function"><span class="params">newTime</span> =&gt;</span> animate(newTime, time));</span><br><span class="line">  &#125;</span><br><span class="line">  requestAnimationFrame(animate);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çš„å›¾ç‰‡åœ¨é¡µé¢å±…ä¸­å¹¶ä¸”<code>position</code>ä¸º<code>relative</code>ã€‚æˆ‘ä»¬å°†é‡å¤æ”¹å˜å›¾ç‰‡çš„<code>top</code>å’Œ<code>left</code>æ ·å¼æ¥ç§»åŠ¨å®ƒã€‚</p>
<p>è¯¥scriptä½¿ç”¨<code>requestAnimationFrame</code>ï¼Œæ¯å½“æµè§ˆå™¨å‡†å¤‡é‡ç»˜å±å¹•çš„æ—¶å€™è°ƒåº¦<code>animate</code>å‡½æ•°å»è¿è¡Œã€‚<code>animate</code>å‡½æ•°æœ¬èº«å†æ¬¡è°ƒç”¨<code>requestAnimationFrame</code>æ¥è°ƒåº¦ä¸‹æ¬¡å‡çº§ã€‚å½“æµè§ˆå™¨çª—å£ï¼ˆæˆ–æ ‡ç­¾é¡µï¼‰æ¿€æ´»çš„æ—¶å€™ï¼Œè¿™å°†å¯¼è‡´å˜åŒ–ä»¥æ¯ç§’60å¸§åšå‡çº§ï¼Œè¿™å°†äº§ç”Ÿä¸€ä¸ªå¥½çœ‹çš„åŠ¨ç”»ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬åªæ˜¯åœ¨å¾ªç¯ä¸­æ”¹å˜DOMï¼Œé¡µé¢å°†ä¼šå†»ç»“ï¼Œå¹¶ä¸”ä»€ä¹ˆä¹Ÿä¸ä¼šå±•ç¤ºåœ¨å±å¹•ä¸Šã€‚å½“JSç¨‹åºè¿è¡Œçš„æ—¶å€™æµè§ˆå™¨ä¸ä¼šæ”¹å˜å®ƒä»¬çš„æ˜¾ç¤ºï¼Œå®ƒä»¬ä¹Ÿä¸å…è®¸å’Œé¡µé¢äº§ç”Ÿä»»ä½•äº¤äº’ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦<code>requestAnimationFrame</code>â€”â€”å®ƒè®©æµè§ˆå™¨çŸ¥é“æˆ‘ä»¬ç°åœ¨åšå®Œäº†ï¼Œä»–å¯ä»¥ç»§ç»­åšæµè§ˆå™¨åšçš„äº‹æƒ…ï¼Œå¦‚å‡çº§ç”»é¢ï¼Œå“åº”ç”¨æˆ·è¡Œä¸ºã€‚</p>
<p>å½“å‰æ—¶é—´ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ è¿›åŠ¨ç”»å‡½æ•°ã€‚ä¸ºäº†ç¡®ä¿çŒ«æ¯æ¯«ç§’çš„ç¨³å®šè¿åŠ¨ï¼Œå®ƒåŸºäºå½“å‰æ—¶é—´å’Œä¸Šæ¬¡å‡½æ•°è¿è¡Œçš„æ—¶é—´å·®ç¡®å®šè§’åº¦å˜åŒ–çš„é€Ÿåº¦ã€‚å¦‚æœä»…ä»…æ˜¯æ¯ä¸€æ­¥ç§»åŠ¨ä¸€ä¸ªå›ºå®šçš„è§’åº¦ï¼Œå¦‚æœåœ¨åŒä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œçš„å¦ä¸€ä¸ªç¹é‡ä»»åŠ¡æ˜¯é˜»æ­¢å‡½æ•°è¿è¡Œå‡ åˆ†ä¹‹ä¸€ç§’ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¼šæ–­æ–­ç»­ç»­ã€‚</p>
<p>ä»¥åœ†ç§»åŠ¨é€šè¿‡ä¸‰è§’å‡½æ•°<code>Math.cos</code>å’Œ<code>Math.sin</code>å®ç°çš„ã€‚å¯¹äºé‚£äº›ä¸ç†Ÿæ‚‰ä»–ä»¬çš„äººï¼Œæˆ‘å°†ç®€è¦ä»‹ç»ä»–ä»¬ï¼Œå› ä¸ºæˆ‘ä»¬å¶å°”ä¼šåœ¨è¿™æœ¬ä¹¦ä¸­ç”¨åˆ°ã€‚</p>
<p><code>Math.cos</code>å’Œ<code>Math.sin</code>å¯¹äºæ‰¾åˆ°åŠå¾„ä¸º1çš„åœ†å¿ƒåœ¨0ï¼Œ0çš„åœ†ä¸Šçš„ç‚¹æ˜¯æœ‰ç”¨çš„ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å°†ä»–ä»¬çš„å‚æ•°ä½œä¸ºåœ¨åœ†ä¸Šçš„ä½ç½®æ¥è§£é‡Šï¼Œ0è¡¨ç¤ºåœ¨åœ†çš„æœ€å³è¾¹ï¼Œé¡ºæ—¶é’ˆèµ°ä¸€åœˆå°±æ˜¯2piã€‚<code>Math.cos</code>å‘Šè¯‰ä½ å¯¹åº”ç»™å®šä½ç½®çš„ç‚¹çš„xåæ ‡ï¼Œ<code>Math.sin</code>å¯¹åº”yåæ ‡ã€‚å¤§äº2piæˆ–è€…å°äº0çš„ä½ç½®ï¼ˆæˆ–è§’åº¦ï¼‰æ˜¯åˆæ³•çš„ã€‚a+2piå’ŒaæŒ‡çš„æ˜¯åŒæ ·çš„è§’åº¦ã€‚</p>
<p>è¿™ç§é‡åº¦è§’åº¦çš„å•ä½å«åšå¼§åº¦â€”â€”æ»¡åœ†å°±æ˜¯2piå¼§åº¦ï¼Œç›¸ä¼¼äºè§’åº¦åˆ¶çš„360Â°ã€‚å¸¸æ•°piå¯é€šè¿‡<code>Math.PI</code>åœ¨JSä¸­è¯»å–ã€‚</p>
<p>çŒ«çš„åŠ¨ç”»ä»£ç ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ï¼Œ<code>angle</code>æ¥è®°å½•å½“å‰åŠ¨ç”»çš„è§’åº¦ï¼Œå¹¶åœ¨æ¯æ¬¡è°ƒç”¨<code>animate</code>å‡½æ•°çš„æ—¶å€™å¢åŠ ã€‚å¯ä»¥éšåä½¿ç”¨è¿™ä¸ªè§’åº¦æ¥è®¡ç®—å½“å‰å›¾ç‰‡å…ƒç´ çš„ä½ç½®ã€‚<code>top</code>æ ·å¼é€šè¿‡<code>Math.sin</code>å°±ç®—å¹¶ä¸”ä¹˜ä»¥20ï¼Œæ˜¯æˆ‘ä»¬æ¤­åœ†çš„å‚ç›´åŠå¾„ã€‚<code>left</code>æ ·å¼åŸºäº<code>Math.cos</code>å¹¶ä¸”ä¹˜ä»¥äº†200ï¼Œè®©è¿™ä¸ªæ¤­åœ†çœ‹ä¸Šå»å®½ä¸€ç‚¹ã€‚</p>
<p>æ³¨æ„æ ·å¼é€šå¸¸éœ€è¦å•ä½ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨æ•°å­—åé¢æ·»åŠ â€pxâ€å‘Šè¯‰æµè§ˆå™¨æˆ‘ä»¬ä»¥åƒç´ è®¡æ•°ï¼ˆå¯¹åº”å˜ç±³ï¼Œâ€emsâ€æˆ–è€…å…¶ä»–å•ä½ï¼‰ã€‚è¿™å¾ˆå®¹æ˜“å¿˜è®°ã€‚ä½¿ç”¨ä¸å¸¦å•ä½çš„æ•°å­—å°†ä¼šä½¿å¾—ä½ çš„æ ·å¼è¢«å¿½ç•¥â€”â€”é™¤éæ•°å­—æ˜¯0ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>JSç¨‹åºå¯ä»¥é€šè¿‡ä¸€ä¸ªå«åšDOMçš„æ•°æ®ç»“æ„å’Œæµè§ˆå™¨æ˜¾ç¤ºçš„æ–‡æ¡£äº¤äº’ã€‚è¿™ä¸ªæ•°æ®ç»“æ„ä»£è¡¨äº†æµè§ˆå™¨å¯¹è¿™ä¸ªæ–‡æ¡£å»ºç«‹çš„æ¨¡å‹ï¼Œå¹¶ä¸”JSå¯ä»¥é€šè¿‡ä¿®æ”¹å®ƒæ¥æ”¹å˜æ˜¾ç¤ºçš„æ–‡æ¡£ã€‚</p>
<p>DOMç»„ç»‡å¾—åƒä¸ªæ ‘ï¼Œå¦»å­çº¢çš„å…ƒç´ æ ¹æ®æ–‡æ¡£ç»“æ„æœ‰å±‚æ¬¡ä½è¢«å®‰æ’ã€‚è¡¨ç¤ºå…ƒç´ çš„å¯¹è±¡ç”±å¦‚<code>parentNode</code>å’Œ<code>childNodes</code>è¿™æ ·çš„å±æ€§ï¼Œå¯è¢«ç”¨äºåœ¨åœ¨æ ‘ä¸­å¯¼èˆªã€‚</p>
<p>æ–‡æ¡£æ˜¾ç¤ºçš„æ–¹å¼å¯è¢«é€šè¿‡æ ·å¼æ¥å½±å“ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥å…³è”æ ·å¼åˆ°èŠ‚ç‚¹ä¸Šï¼Œä¹Ÿå¯ä»¥ä¸ºåŒ¹é…çš„èŠ‚ç‚¹å®šä¹‰è§„åˆ™ã€‚æœ‰è®¸å¤šæ ·å¼å±æ€§ï¼Œå¦‚colorå’Œdisplayã€‚JSä»£ç å¯ä»¥ç›´æ¥é€šè¿‡å®ƒçš„styleå±æ€§æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼ã€‚</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>Stick to share, hope you can benefit from these.</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="Guohang Ma WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="Guohang Ma Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Guohang Ma
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://giancarlo-ma.github.io/2019/01/15/EJ14/" title="EJ14">https://giancarlo-ma.github.io/2019/01/15/EJ14/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/01/14/EJ13/" rel="prev" title="EJ13">
      <i class="fa fa-chevron-left"></i> EJ13
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/01/15/EJ15/" rel="next" title="EJ15">
      EJ15 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#æ–‡æ¡£å¯¹è±¡æ¨¡å‹"><span class="nav-number">1.</span> <span class="nav-text">æ–‡æ¡£å¯¹è±¡æ¨¡å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æ–‡æ¡£ç»“æ„"><span class="nav-number">1.1.</span> <span class="nav-text">æ–‡æ¡£ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ ‘"><span class="nav-number">1.2.</span> <span class="nav-text">æ ‘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ ‡å‡†"><span class="nav-number">1.3.</span> <span class="nav-text">æ ‡å‡†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#éå†æ ‘"><span class="nav-number">1.4.</span> <span class="nav-text">éå†æ ‘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‘ç°å…ƒç´ "><span class="nav-number">1.5.</span> <span class="nav-text">å‘ç°å…ƒç´ </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ”¹å˜document"><span class="nav-number">1.6.</span> <span class="nav-text">æ”¹å˜document</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ›é€ èŠ‚ç‚¹"><span class="nav-number">1.7.</span> <span class="nav-text">åˆ›é€ èŠ‚ç‚¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å±æ€§"><span class="nav-number">1.8.</span> <span class="nav-text">å±æ€§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¸ƒå±€"><span class="nav-number">1.9.</span> <span class="nav-text">å¸ƒå±€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ ·å¼"><span class="nav-number">1.10.</span> <span class="nav-text">æ ·å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å±‚å æ ·å¼"><span class="nav-number">1.11.</span> <span class="nav-text">å±‚å æ ·å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŸ¥è¯¢é€‰æ‹©å™¨"><span class="nav-number">1.12.</span> <span class="nav-text">æŸ¥è¯¢é€‰æ‹©å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å®šä½å’ŒåŠ¨ç”»"><span class="nav-number">1.13.</span> <span class="nav-text">å®šä½å’ŒåŠ¨ç”»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€»ç»“"><span class="nav-number">1.14.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Guohang Ma"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Guohang Ma</p>
  <div class="site-description" itemprop="description">ğŸ“šâ°ğŸ¶ğŸ¸ğŸŠğŸ½â€â™‚ï¸ğŸƒğŸ½â€ğŸ¦ğŸŒğŸ“ğŸŒ³ğŸ—½Love all things...</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">138</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Guohang Ma</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>


  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1278978497&web_id=1278978497"></script>
  </div>




<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"kmDK0a24LosF4PtvdKclqmTC-gzGzoHsz","app_key":"CpfEBlrDef2N6Oa8psanDLBh","server_url":null,"security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '2b6e284e656b715f5a3f',
      clientSecret: 'f34034a370b3c9c3470613f4dba511026a81eaf3',
      repo        : 'giancarlo-ma.github.io',
      owner       : 'giancarlo-ma',
      admin       : ['giancarlo-ma'],
      id          : 'a23a1b666c93f135bbc3e1d961708e48',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
